{"version":3,"sources":["../pixify/node_modules/browser-pack/_prelude.js","src/Application.js","src/FilterPatcherV3.js","src/RendererPatcher.js","index.js"],"names":[],"mappings":"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","file":"pixi-legacy.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export default class Application {\r\n    constructor(width, height, options, noWebGL) {\r\n        this.renderer = PIXI.autoDetectRenderer(width, height, options, noWebGL);\r\n\r\n        this.stage = new PIXI.Container();\r\n\r\n        this.ticker = new PIXI.Ticker();\r\n\r\n        this.ticker.add(this.render, this);\r\n\r\n        // Start the rendering\r\n        this.start();\r\n    }\r\n\r\n    render() {\r\n        this.renderer.render(this.stage);\r\n    }\r\n\r\n    stop() {\r\n        this.ticker.stop();\r\n    }\r\n\r\n    start() {\r\n        this.ticker.start();\r\n    }\r\n\r\n    get view() {\r\n        return this.renderer.view;\r\n    }\r\n\r\n    get screen() {\r\n        return this.renderer.screen;\r\n    }\r\n\r\n    destroy(removeView) {\r\n        this.stop();\r\n        this.ticker.remove(this.render, this);\r\n        this.ticker = null;\r\n\r\n        this.stage.destroy();\r\n        this.stage = null;\r\n\r\n        this.renderer.destroy(removeView);\r\n        this.renderer = null;\r\n    }\r\n}\r\n","export default function FilterPatcherV3(PIXI) {\r\n\r\n    var CONST = PIXI;\r\n    var AbstractFilter = PIXI.AbstractFilter;\r\n    var WebGLRenderer = PIXI.WebGLRenderer;\r\n\r\n    PIXI.filters.VoidFilter = AbstractFilter;\r\n\r\n    AbstractFilter.prototype.blendMode = 0;\r\n\r\n    function FilterManager_popFilter()\r\n    {\r\n        var filterData = this.filterStack.pop();\r\n        var previousFilterData = this.filterStack[this.filterStack.length-1];\r\n\r\n        var input = filterData.renderTarget;\r\n\r\n        // if the renderTarget is null then we don't apply the filter as its offscreen\r\n        if(!filterData.renderTarget)\r\n        {\r\n            return;\r\n        }\r\n\r\n        var output = previousFilterData.renderTarget;\r\n\r\n        // use program\r\n        var gl = this.renderer.gl;\r\n\r\n\r\n        this.currentFrame = input.frame;\r\n\r\n        this.quad.map(this.textureSize, input.frame);\r\n\r\n\r\n        // TODO.. this probably only needs to be done once!\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.quad.vertexBuffer);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.quad.indexBuffer);\r\n\r\n        var filters = filterData.filter;\r\n\r\n        // assuming all filters follow the correct format??\r\n        gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition, 2, gl.FLOAT, false, 0, 0);\r\n        gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord, 2, gl.FLOAT, false, 0, 2 * 4 * 4);\r\n        gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor, 4, gl.FLOAT, false, 0, 4 * 4 * 4);\r\n\r\n        // restore the normal blendmode!\r\n        this.renderer.blendModeManager.setBlendMode(CONST.BLEND_MODES.NORMAL);\r\n\r\n        if (filters.length === 1)\r\n        {\r\n            // TODO (cengler) - There has to be a better way then setting this each time?\r\n            if (filters[0].uniforms.dimensions)\r\n            {\r\n                filters[0].uniforms.dimensions.value[0] = this.renderer.width;\r\n                filters[0].uniforms.dimensions.value[1] = this.renderer.height;\r\n                filters[0].uniforms.dimensions.value[2] = this.quad.vertices[0];\r\n                filters[0].uniforms.dimensions.value[3] = this.quad.vertices[5];\r\n            }\r\n\r\n            this._filterBlendMode = filters[0].blendMode;\r\n            filters[0].applyFilter( this.renderer, input, output );\r\n            this.returnRenderTarget( input );\r\n\r\n        }\r\n        else\r\n        {\r\n            var flipTexture = input;\r\n            var flopTexture = this.getRenderTarget(true);\r\n\r\n            for (var i = 0; i < filters.length-1; i++)\r\n            {\r\n                var filter = filters[i];\r\n\r\n                // TODO (cengler) - There has to be a better way then setting this each time?\r\n                if (filter.uniforms.dimensions)\r\n                {\r\n                    filter.uniforms.dimensions.value[0] = this.renderer.width;\r\n                    filter.uniforms.dimensions.value[1] = this.renderer.height;\r\n                    filter.uniforms.dimensions.value[2] = this.quad.vertices[0];\r\n                    filter.uniforms.dimensions.value[3] = this.quad.vertices[5];\r\n                }\r\n\r\n                this._filterBlendMode = filter.blendMode;\r\n                filter.applyFilter( this.renderer, flipTexture, flopTexture );\r\n\r\n                var temp = flipTexture;\r\n                flipTexture = flopTexture;\r\n                flopTexture = temp;\r\n            }\r\n\r\n            this._filterBlendMode = filters[filters.length-1].blendMode;\r\n            filters[filters.length-1].applyFilter( this.renderer, flipTexture, output );\r\n\r\n            this.returnRenderTarget( flipTexture );\r\n            this.returnRenderTarget( flopTexture );\r\n        }\r\n        this._filterBlendMode = 0;\r\n\r\n        return filterData.filter;\r\n    }\r\n\r\n    function FilterManager_applyFilter(shader, inputTarget, outputTarget, clear) {\r\n        var gl = this.renderer.gl;\r\n\r\n        this.renderer.setRenderTarget(outputTarget);\r\n\r\n        if (clear)\r\n        {\r\n            outputTarget.clear();\r\n        }\r\n\r\n        this.renderer.shaderManager.setShader(shader);\r\n\r\n        shader.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(true);\r\n\r\n        shader.syncUniforms();\r\n\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, inputTarget.texture);\r\n\r\n        this.renderer.blendModeManager.setBlendMode(this._filterBlendMode);\r\n\r\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n\r\n        this.renderer.blendModeManager.setBlendMode(CONST.BLEND_MODES.NORMAL);\r\n        this.renderer.drawCount++;\r\n    }\r\n\r\n    WebGLRenderer.prototype._mapGlModes = function ()\r\n    {\r\n        this.filterManager.applyFilter = FilterManager_applyFilter;\r\n        this.filterManager.popFilter = FilterManager_popFilter;\r\n\r\n        var gl = this.gl;\r\n\r\n        if (!this.blendModes)\r\n        {\r\n            this.blendModes = {};\r\n\r\n            this.blendModes[CONST.BLEND_MODES.NORMAL]        = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.ADD]           = [gl.ONE,       gl.DST_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.MULTIPLY]      = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.SCREEN]        = [gl.ONE,       gl.ONE_MINUS_SRC_COLOR];\r\n            this.blendModes[CONST.BLEND_MODES.OVERLAY]       = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.DARKEN]        = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.LIGHTEN]       = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.COLOR_DODGE]   = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.COLOR_BURN]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.HARD_LIGHT]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.DIFFERENCE]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.EXCLUSION]     = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.HUE]           = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.SATURATION]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.COLOR]         = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n            this.blendModes[CONST.BLEND_MODES.LUMINOSITY]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];\r\n        }\r\n\r\n        if (!this.drawModes)\r\n        {\r\n            this.drawModes = {};\r\n\r\n            this.drawModes[CONST.DRAW_MODES.POINTS]         = gl.POINTS;\r\n            this.drawModes[CONST.DRAW_MODES.LINES]          = gl.LINES;\r\n            this.drawModes[CONST.DRAW_MODES.LINE_LOOP]      = gl.LINE_LOOP;\r\n            this.drawModes[CONST.DRAW_MODES.LINE_STRIP]     = gl.LINE_STRIP;\r\n            this.drawModes[CONST.DRAW_MODES.TRIANGLES]      = gl.TRIANGLES;\r\n            this.drawModes[CONST.DRAW_MODES.TRIANGLE_STRIP] = gl.TRIANGLE_STRIP;\r\n            this.drawModes[CONST.DRAW_MODES.TRIANGLE_FAN]   = gl.TRIANGLE_FAN;\r\n        }\r\n    };\r\n}","export default function RendererPatcher(RendererProto) {\r\n    if (RendererProto.hasOwnProperty(\"width\")) {\r\n        return;\r\n    }\r\n    RendererProto.screen = null;\r\n    Object.defineProperties(RendererProto, {\r\n        width: {\r\n            get: function () {\r\n                if (!this.screen) {\r\n                    this.screen = new PIXI.Rectangle(0, 0, 1, 1);\r\n                }\r\n                return this.screen.width;\r\n            },\r\n            set: function (value) {\r\n                if (!this.screen) {\r\n                    this.screen = new PIXI.Rectangle(0, 0, 1, 1);\r\n                }\r\n                this.screen.width = value;\r\n            }\r\n        },\r\n        height: {\r\n            get: function () {\r\n                if (!this.screen) {\r\n                    this.screen = new PIXI.Rectangle(0, 0, 1, 1);\r\n                }\r\n                return this.screen.height;\r\n            },\r\n            set: function (value) {\r\n                if (!this.screen) {\r\n                    this.screen = new PIXI.Rectangle(0, 0, 1, 1);\r\n                }\r\n                this.screen.height = value;\r\n            }\r\n        }\r\n    });\r\n}","import Application from \"./Application\";\r\nimport RendererPatcher from \"./RendererPatcher\";\r\nimport FilterPatcherV3 from \"./FilterPatcherV3\";\r\n\r\nRendererPatcher(PIXI.CanvasRenderer.prototype);\r\nRendererPatcher(PIXI.WebGLRenderer.prototype);\r\n\r\nif (!PIXI.Ticker && PIXI.ticker) {\r\n    Object.assign(PIXI, PIXI.ticker);\r\n}\r\n\r\nif (!PIXI.Application) {\r\n    PIXI.Application = Application;\r\n}\r\n\r\nif (!PIXI.filters.VoidFilter) {\r\n    FilterPatcherV3(PIXI);\r\n}\r\n\r\nmodule.exports = PIXI;\r\n"],"sourceRoot":"."}